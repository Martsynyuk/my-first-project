<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="">
<meta name="description" content="">

<title>project</title>

<link rel="stylesheet" type="text/css" href="/css/main.css">
<link rel="stylesheet" type="text/css" href="/css/reset.css">

</head>
<body>
<div class="main">
	<div class="header">
		<a href="/"><img src="/img/logotip.png" alt="logotip"></a>
		<div class="header_menu">
			<ul>	
				<li class="home"> <a href="<?= $html->url(array()) ?>">Home</a> </li>				
				<li class="logout"> <a href=" <?= $html->url(array('controller'=>'users', 'action'=>'logout')) ?>">Logout</a> </li>
				<li class="add_some"> <a href=" <?= $html->url(array('controller'=>'contacts', 'action'=>'add')) ?>">Add contact</a></li>
				<li class="home"><a  href="<?= $html->url(array('controller'=>'contacts', 'action'=>'letter')) ?>">Letter</a></li>
			</ul>
		</div>
	</div>
	<div class="content">
		<div class="contact">
			<?php if ( ! empty ( $contacts ) ){ ?>
			
				<table class="table">
			<tr class="top">
				<th></th>
				<form name="index" method="POST">
					<th class="first_name">First Name
						<input <?= ( empty($argument['sortparam']) && empty($argument['sort']) || 
													$argument['sortparam']==='FirstName' && $argument['sort']==='asc' ) ? 'class="active_sort"' : '' ;?> 
								class="sort" type="submit" value="&#8593" formaction="
								
							<?=  ( $page > 1 ) ? $html->url(array('sort'=>'FirstName', 'sortparam'=>'asc', 'page'=>$page )) 
									 : $html->url(array('sort'=>'FirstName', 'sortparam'=>'asc')) ; 							
															
									?>">
						
						<input <?= ( $argument['sortparam']==='FirstName' && $argument['sort']==='desc' ) ? 'class="active_sort"' : '' ;?>
							class="sort" type="submit" value="&#8595" formaction="
							<?= ( $page > 1 ) ? $html->url(array('sort'=>'FirstName', 'sortparam'=>'desc', 'page'=>$page )) 
									: $html->url(array('sort'=>'FirstName', 'sortparam'=>'desc')) ;
							
									?>">
					</th>
					<th class="last_name">Last Name
						<input <?= ( $argument['sortparam']==='LastName' && $argument['sort']==='asc' ) ? 'class="active_sort"' : '' ;?>
								class="sort" type="submit" value="&#8593" formaction="
							<?= ( $page > 1 ) ? $html->url(array('sort'=>'LastName', 'sortparam'=>'asc', 'page'=>$page ))
									: $html->url(array('sort'=>'LastName', 'sortparam'=>'asc' )) ;
							
									?>"> 
				 
						<input <?= ( $argument['sortparam']==='LastName' && $argument['sort']==='desc' ) ? 'class="active_sort"' : '' ;?>
								class="sort" type="submit" value="&#8595" formaction="
							<?= ( $page > 1 ) ? $html->url(array('sort'=>'LastName', 'sortparam'=>'desc', 'page'=>$page )) 
									: $html->url(array('sort'=>'LastName', 'sortparam'=>'desc' )) ; 
							
									?>">
						
					</th>
					<th class="email">E-mail</th>
					<th class="cell">Cellular</th>
					<th class="action_plase">Action</th>
					
			</tr>
																
			<?php foreach ( $contacts as $contact ) : ?>			
				<tr class="line">
					<td class="number"><?= $i . '.'; ?></td>
					<td class="name"><?= $contact['FirstName']; ?></td>
					<td class="name"><?= $contact['LastName']; ?></td>
					<td class="emails"><?= $contact['Email']; ?></td>
					<td class="telephone"><?= $contact['Telephone']; ?></td>
					<td class="action">
						<a class="edit" href="<?= $html->url(array('controller'=>'contacts', 'action'=>'edit', 'id'=>$contact['id'])) ?>">edit</a> 
						<a class="view" href="<?= $html->url(array('controller'=>'contacts', 'action'=>'view', 'id'=>$contact['id'])) ?>">view</a>
						<a class="delete" href="<?= $html->url(array('controller'=>'contacts', 'action'=>'delete', 'id'=>$contact['id'])) ?>"></a>
					</td>
				</tr>
				<?php $i++;?>	
				
				<?php endforeach;?>	
				
									
					</table>
			<div class="pagination">
			
				<?php } else { ?>
				
					<span>Your contact book is empty. Please add some contacts.</span>
			
			
				<?php } ;?>
				
				<?php if($count_contacts == 0) { ?>
					
			<?php } else {?>
			
				<ul>
						<li class="back_plase">
						
							<?php  if ($page != 1) : ?>
							
									<input class="back" type="submit" name="sort" value="" formaction="
										<?php
											
											if ($page == 1) {
												echo '1';
											} else {
												echo ($page - 1);
											}
											?>">
									
								<?php endif; ?>	
																	
						</li>
					
					<li class="page_plase">
					
						<?php for ($i = $count_for_pagin[0]; $i <= $count_for_pagin[1]; $i++) { ?>
						
							<?php if ($i == $page) { ?>
							
										<input class="page_active" type="submit" value="<?= $i ?>" formaction="<?= $i	?>">
										
							<?php } else { ?>
							
								<input class="page" type="submit" value="<?= $i ?>" formaction="<?= $i	?>">
								
							<?php } ?>
							
						<?php } ?>
					
					</li>				
					<li class="next_plase">	
										 
						<?php if ($page != $count_pages) : ?>
						
						<input class="next" type="submit" value="" formaction="<?= ( $page + 1 ) ?>">
						
																
						<?php endif; ?>	
														
					</li>
				</ul>
			</div>	
			<?php } ?>
			</form>
		</div>
	</div>
	<div class="footer">
		<span>&#169 2007 Wise Engineering</span>
	</div>
</div>
</body>
</html>