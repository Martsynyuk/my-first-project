<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="keywords" content="">
<meta name="description" content="">

<title>project</title>

<link rel="stylesheet" type="text/css" href="/css/main.css">
<link rel="stylesheet" type="text/css" href="/css/reset.css">
<?= (DEBUG === 1) ? '<link rel="stylesheet" type="text/css" href="/css/debug.css">' : '' ;?>

</head>
<body>
<div class="main">
	<div class="header">
		<a href="/"><img src="/img/logotip.png" alt="logotip"></a>
		<div class="header_menu">
			<ul>	
				<li><a class="home" href="<?= $html->url(array()) ?>">Home</a> </li>				
				<li><a class="home" href=" <?= $html->url(array('controller'=>'users', 'action'=>'logout')) ?>">Logout</a> </li>
				<li><a class="home" href=" <?= $html->url(array('controller'=>'contacts', 'action'=>'add')) ?>">Add contact</a></li>
				<li><a class="home" href="<?= $html->url(array('controller'=>'contacts', 'action'=>'letter')) ?>">Letter</a></li>
			</ul>
		</div>
		<div class="clear"></div>
	</div>
	<div class="content">
		<div class="cont">
				<?php if ( ! empty ( $contacts ) ){ ?>
			<div class="cont_top">
					<ul>
							<li>First Name
								<a <?= ( empty($argument['sortparam']) && empty($argument['sort']) || 
															$argument['sortparam']==='FirstName' && $argument['sort']==='asc' ) ? 'class="active_sort"' : '' ;?> 
										class="sort" href="
										
									<?=  ( $page > 1 ) ? $html->url(array('sort'=>'FirstName', 'sortparam'=>'asc', 'page'=>$page )) 
									 : $html->url(array('sort'=>'FirstName', 'sortparam'=>'asc')) ; 							
															
									?>">&#8593</a>
								
								<a <?= ( $argument['sortparam']==='FirstName' && $argument['sort']==='desc' ) ? 'class="active_sort"' : '' ;?>
									class="sort" href="
									<?= ( $page > 1 ) ? $html->url(array('sort'=>'FirstName', 'sortparam'=>'desc', 'page'=>$page )) 
									: $html->url(array('sort'=>'FirstName', 'sortparam'=>'desc')) ;
							
									?>">&#8595</a>
							</li>
							<li>Last Name
							<a <?= ( $argument['sortparam']==='LastName' && $argument['sort']==='asc' ) ? 'class="active_sort"' : '' ;?>
									class="sort" href="
								<?= ( $page > 1 ) ? $html->url(array('sort'=>'LastName', 'sortparam'=>'asc', 'page'=>$page ))
									: $html->url(array('sort'=>'LastName', 'sortparam'=>'asc' )) ;
							
									?>">&#8593</a>
					 
							<a <?= ( $argument['sortparam']==='LastName' && $argument['sort']==='desc' ) ? 'class="active_sort"' : '' ;?>
									class="sort" href="
								<?= ( $page > 1 ) ? $html->url(array('sort'=>'LastName', 'sortparam'=>'desc', 'page'=>$page )) 
									: $html->url(array('sort'=>'LastName', 'sortparam'=>'desc' )) ; 
							
									?>">&#8595</a>
						</li>	
						<li>E-mail</li>
						<li>Cellular</li>
						<li>Action</li>
					</ul>
				</div>													
				<?php foreach ( $contacts as $contact ) : ?>
				<div <?= ($contact_class === $i) ? 'class="last-child"' : 'class="string"' ;?> >
						<ul>	
							<li><?= $i . '.'; ?></td></li>
							<li><?= $contact['FirstName']; ?></li>
							<li><?= $contact['LastName']; ?></li>
							<li><?= $contact['Email']; ?></li>
							<li><?= $contact['Telephone']; ?></li>
							<li>
								<a class="edit" href="<?= $html->url(array('controller'=>'contacts', 'action'=>'edit', 'id'=>$contact['id'])) ?>">edit</a> 
								<a class="view" href="<?= $html->url(array('controller'=>'contacts', 'action'=>'view', 'id'=>$contact['id'])) ?>">view</a>
								<a class="delete" href="<?= $html->url(array('controller'=>'contacts', 'action'=>'delete', 'id'=>$contact['id'])) ?>"></a>
							</li>
						</ul>
				</div>
				
					<?php $i++;?>	
					
					<?php endforeach;?>	
				<div class="cont_bottom_grad"></div>	
				<div class="pagination">
				
					<?php } else { ?>
					
						<span>Your contact book is empty. Please add some contacts.</span>
				
				
					<?php } ;?>
					
					<?php if($count_contacts == 0) { ?>
						
				<?php } else {?>
				
					<ul>
							<li class="back_plase">
							
								<?php  if ($page != 1) : ?>
								
										<a href="<?= ($page == 1) ? '1' : $page - 1 ;?>"><img src="/img/prew.png"></a>
																		
								<?php endif; ?>	
																		
							</li>
						
						<li class="page_plase">
						
							<?php for ($i = $count_for_pagin[0]; $i <= $count_for_pagin[1]; $i++) { ?>
							
								<?php if ($i == $page) { ?>
								
									<a class="page_active" href="<?= $i ?>" ><?= $i ?></a>
											
								<?php } else { ?>
								
									<a class="page" href="<?= $i ?>" ><?= $i ?></a>
									
								<?php } ?>
								
							<?php } ?>
						
						</li>				
						<li class="next_plase">	
											 
							<?php if ($page != $count_pages) : ?>
							
							<a href="<?= ( $page + 1 ) ?>"><img src="/img/next.png"></a>
							
																	
							<?php endif; ?>	
															
						</li>
					</ul>
			</div>	
			<?php } ?>
		</div>
	</div>
	<div class="footer">
		<span>&#169 2007 Wise Engineering</span>
	</div>
</div>
</body>
</html>